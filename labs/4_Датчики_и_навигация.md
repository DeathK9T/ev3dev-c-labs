# Лабораторная №4. Датчики и навигация

## Ультразвуковой датчик расстояния

Ультразвуковой датчик определяет расстояние до препятствий, работая по принципу эхолокации:

- Излучает серию из 8 импульсов на частоте 40 кГц
- Принимает отраженный сигнал
- Рассчитывает расстояние по времени прохождения звука

```c
float getUSdistance(tSensors порт);  // Возвращает расстояние в см
```

Характеристики датчика:

- **Дальность:** 3-250 см
- **Точность:** ±3 мм на расстоянии 20-50 см
- **Угол обзора:** около 30°

## Условные операторы

Условные операторы позволяют программам принимать решения в зависимости от заданных условий. В языке C, используемом для программирования роботов, основными условными операторами являются `if`, `else if` и `else`. Они проверяют логические выражения, и если выражение истинно, выполняется связанный блок кода. Это ключевой инструмент для реагирования робота на данные с датчиков и изменения окружающей среды.

Пример использования `if`:

```c
if (getUSdistance(S1) < 20) {
    setMotorSpeed(motorA, 0);
    setMotorSpeed(motorD, 0);
}
```

Здесь, если расстояние до препятствия меньше 20 см, моторы останавливаются.

Конструкция `if-else` позволяет задать альтернативный путь выполнения:

```c
if (getUSdistance(S1) < 20) {
    setMotorSpeed(motorA, 0);
    setMotorSpeed(motorD, 0);
} else {
    setMotorSpeed(motorA, 50);
    setMotorSpeed(motorD, 50);
}
```

Здесь изначальное условие тоже самое, но добавляем действие, которое будет выполнятся, если оно неверно - движение моторов.

Более сложные решения достигаются с помощью цепочек `else if`, объединяя несколько условий для принятия решений.

## Задачи для выполнения

### Задача 4.1

Создайте программу-измеритель расстояния с выводом на экран. Определите область захвата датчика — под каким углом он "видит" препятствия.

### Задача 4.2

Создайте программу, реализующую систему предупреждения столкновений:

- Робот движется вперед с постоянной скоростью
- Постоянно измеряет расстояние до препятствия впереди
- По мере приближения к препядствию снижает скорость *(плавно или рывками)*, а при достижении определенного растояния полностью останавливает моторы.

### Задача 4.3

Реализуйте алгоритм "поиск пищи":

- Робот движется вперед до обнаружения препятствия
- При препятствии поворачивает направо и пробует снова
- Если после 4 поворотов препятствие не обходится — движется назад и поворачивает налево

### Задача 4.4

Создайте "умный" алгоритм обхода препятствий:

- При обнаружении препятствия робот сканирует местность поворотами
- Выбирает направление с наибольшим свободным расстоянием
- Движется в выбранном направлении
